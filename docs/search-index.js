crystal_doc_search_index_callback({"repository_name":"monitbee","body":"# MonitBee (crystal)\n\n## init project\n\n  marten new project monitbee\n\n## DB and schema\n\n  ./bin/marten genmigrations\n  ./bin/marten migrate\n  ./bin/marten serve\n\n## compile release\n  \n  crystal build src/server.cr -o bin/server --release\n  crystal build src/manage.cr -o bin/manage --release\n  bin/manage collectassets --no-input\n  bin/manage migrate \n\n  # run the server\n  bin/server\n\n","program":{"html_id":"monitbee/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"monitbee","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"monitbee/Agent","path":"Agent.html","kind":"class","full_name":"Agent","name":"Agent","abstract":false,"superclass":{"html_id":"monitbee/Marten/DB/Model","kind":"class","full_name":"Marten::DB::Model","name":"Model"},"ancestors":[{"html_id":"monitbee/Marten/DB/Model","kind":"class","full_name":"Marten::DB::Model","name":"Model"},{"html_id":"monitbee/Marten/Template/Object/Auto","kind":"module","full_name":"Marten::Template::Object::Auto","name":"Auto"},{"html_id":"monitbee/Marten/Template/Object","kind":"module","full_name":"Marten::Template::Object","name":"Object"},{"html_id":"monitbee/Marten/DB/Model/Callbacks","kind":"module","full_name":"Marten::DB::Model::Callbacks","name":"Callbacks"},{"html_id":"monitbee/Marten/Core/Validation/Callbacks","kind":"module","full_name":"Marten::Core::Validation::Callbacks","name":"Callbacks"},{"html_id":"monitbee/Marten/Core/Validation","kind":"module","full_name":"Marten::Core::Validation","name":"Validation"},{"html_id":"monitbee/Marten/DB/Model/Validation","kind":"module","full_name":"Marten::DB::Model::Validation","name":"Validation"},{"html_id":"monitbee/Marten/DB/Model/Querying","kind":"module","full_name":"Marten::DB::Model::Querying","name":"Querying"},{"html_id":"monitbee/Marten/DB/Model/Persistence","kind":"module","full_name":"Marten::DB::Model::Persistence","name":"Persistence"},{"html_id":"monitbee/Marten/DB/Model/Comparison","kind":"module","full_name":"Marten::DB::Model::Comparison","name":"Comparison"},{"html_id":"monitbee/Marten/DB/Model/Table","kind":"module","full_name":"Marten::DB::Model::Table","name":"Table"},{"html_id":"monitbee/Marten/DB/Model/Connection","kind":"module","full_name":"Marten::DB::Model::Connection","name":"Connection"},{"html_id":"monitbee/Marten/Apps/Association","kind":"module","full_name":"Marten::Apps::Association","name":"Association"},{"html_id":"monitbee/Marten/DB/Model/AppConfig","kind":"module","full_name":"Marten::DB::Model::AppConfig","name":"AppConfig"},{"html_id":"monitbee/Marten/DB/Model/Inheritance","kind":"module","full_name":"Marten::DB::Model::Inheritance","name":"Inheritance"},{"html_id":"monitbee/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"monitbee/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/models/monit.cr","line_number":1,"url":null}],"repository_name":"monitbee","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"FIELDS_","name":"FIELDS_","value":"{\"id\" => {type: \"uuid\", kwargs: {primary_key: true, unique: true}}, \"name\" => {type: \"string\", kwargs: {max_size: 40}}, \"version\" => {type: \"string\", kwargs: {max_size: 25}}} of Nil => Nil"}],"instance_methods":[{"html_id":"id:UUID|Nil|Nil-instance-method","name":"id","abstract":false,"def":{"name":"id","return_type":"::UUID | ::Nil | ::Nil","visibility":"Public","body":"@id"}},{"html_id":"id!-instance-method","name":"id!","abstract":false,"def":{"name":"id!","visibility":"Public","body":"@id.not_nil!"}},{"html_id":"id=(id:UUID|Nil|Nil)-instance-method","name":"id=","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"::UUID | ::Nil | ::Nil"}],"args_string":"(id : UUID | Nil | Nil)","args_html":"(id : UUID | Nil | Nil)","def":{"name":"id=","args":[{"name":"id","external_name":"id","restriction":"::UUID | ::Nil | ::Nil"}],"visibility":"Public","body":"@id = id"}},{"html_id":"id?-instance-method","name":"id?","abstract":false,"def":{"name":"id?","visibility":"Public","body":"(self.class.get_field(\"id\")).getter_value?(id)"}},{"html_id":"name:String|Nil|Nil-instance-method","name":"name","abstract":false,"def":{"name":"name","return_type":"::String | ::Nil | ::Nil","visibility":"Public","body":"@name"}},{"html_id":"name!-instance-method","name":"name!","abstract":false,"def":{"name":"name!","visibility":"Public","body":"@name.not_nil!"}},{"html_id":"name=(name:String|Nil|Nil)-instance-method","name":"name=","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"::String | ::Nil | ::Nil"}],"args_string":"(name : String | Nil | Nil)","args_html":"(name : String | Nil | Nil)","def":{"name":"name=","args":[{"name":"name","external_name":"name","restriction":"::String | ::Nil | ::Nil"}],"visibility":"Public","body":"@name = name"}},{"html_id":"name?-instance-method","name":"name?","abstract":false,"def":{"name":"name?","visibility":"Public","body":"(self.class.get_field(\"name\")).getter_value?(name)"}},{"html_id":"version:String|Nil|Nil-instance-method","name":"version","abstract":false,"def":{"name":"version","return_type":"::String | ::Nil | ::Nil","visibility":"Public","body":"@version"}},{"html_id":"version!-instance-method","name":"version!","abstract":false,"def":{"name":"version!","visibility":"Public","body":"@version.not_nil!"}},{"html_id":"version=(version:String|Nil|Nil)-instance-method","name":"version=","abstract":false,"args":[{"name":"version","external_name":"version","restriction":"::String | ::Nil | ::Nil"}],"args_string":"(version : String | Nil | Nil)","args_html":"(version : String | Nil | Nil)","def":{"name":"version=","args":[{"name":"version","external_name":"version","restriction":"::String | ::Nil | ::Nil"}],"visibility":"Public","body":"@version = version"}},{"html_id":"version?-instance-method","name":"version?","abstract":false,"def":{"name":"version?","visibility":"Public","body":"(self.class.get_field(\"version\")).getter_value?(version)"}}]},{"html_id":"monitbee/Alert","path":"Alert.html","kind":"class","full_name":"Alert","name":"Alert","abstract":false,"superclass":{"html_id":"monitbee/Marten/DB/Model","kind":"class","full_name":"Marten::DB::Model","name":"Model"},"ancestors":[{"html_id":"monitbee/Marten/DB/Model","kind":"class","full_name":"Marten::DB::Model","name":"Model"},{"html_id":"monitbee/Marten/Template/Object/Auto","kind":"module","full_name":"Marten::Template::Object::Auto","name":"Auto"},{"html_id":"monitbee/Marten/Template/Object","kind":"module","full_name":"Marten::Template::Object","name":"Object"},{"html_id":"monitbee/Marten/DB/Model/Callbacks","kind":"module","full_name":"Marten::DB::Model::Callbacks","name":"Callbacks"},{"html_id":"monitbee/Marten/Core/Validation/Callbacks","kind":"module","full_name":"Marten::Core::Validation::Callbacks","name":"Callbacks"},{"html_id":"monitbee/Marten/Core/Validation","kind":"module","full_name":"Marten::Core::Validation","name":"Validation"},{"html_id":"monitbee/Marten/DB/Model/Validation","kind":"module","full_name":"Marten::DB::Model::Validation","name":"Validation"},{"html_id":"monitbee/Marten/DB/Model/Querying","kind":"module","full_name":"Marten::DB::Model::Querying","name":"Querying"},{"html_id":"monitbee/Marten/DB/Model/Persistence","kind":"module","full_name":"Marten::DB::Model::Persistence","name":"Persistence"},{"html_id":"monitbee/Marten/DB/Model/Comparison","kind":"module","full_name":"Marten::DB::Model::Comparison","name":"Comparison"},{"html_id":"monitbee/Marten/DB/Model/Table","kind":"module","full_name":"Marten::DB::Model::Table","name":"Table"},{"html_id":"monitbee/Marten/DB/Model/Connection","kind":"module","full_name":"Marten::DB::Model::Connection","name":"Connection"},{"html_id":"monitbee/Marten/Apps/Association","kind":"module","full_name":"Marten::Apps::Association","name":"Association"},{"html_id":"monitbee/Marten/DB/Model/AppConfig","kind":"module","full_name":"Marten::DB::Model::AppConfig","name":"AppConfig"},{"html_id":"monitbee/Marten/DB/Model/Inheritance","kind":"module","full_name":"Marten::DB::Model::Inheritance","name":"Inheritance"},{"html_id":"monitbee/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"monitbee/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/models/monit.cr","line_number":13,"url":null}],"repository_name":"monitbee","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"FIELDS_","name":"FIELDS_","value":"{\"id\" => {type: \"big_int\", kwargs: {primary_key: true, auto: true}}, \"agent\" => {type: \"many_to_one\", kwargs: {to: Agent}}} of Nil => Nil"}],"instance_methods":[{"html_id":"agent:Agent|Nil-instance-method","name":"agent","abstract":false,"def":{"name":"agent","return_type":"Agent | ::Nil","visibility":"Public","body":"@agent || (@agent = (Agent.get(pk: @agent_id)))"}},{"html_id":"agent!:Agent-instance-method","name":"agent!","abstract":false,"def":{"name":"agent!","return_type":"Agent","visibility":"Public","body":"agent.not_nil!"}},{"html_id":"agent=(related_object:Agent|Nil)-instance-method","name":"agent=","abstract":false,"args":[{"name":"related_object","external_name":"related_object","restriction":"Agent | ::Nil"}],"args_string":"(related_object : Agent | Nil)","args_html":"(related_object : <a href=\"Agent.html\">Agent</a> | Nil)","def":{"name":"agent=","args":[{"name":"related_object","external_name":"related_object","restriction":"Agent | ::Nil"}],"visibility":"Public","body":"@agent_id = if related_object.nil?\n  nil\nelse\n  related_object.class.pk_field.to_db(related_object.pk)\nend\n@agent = related_object\n"}},{"html_id":"agent?-instance-method","name":"agent?","abstract":false,"def":{"name":"agent?","visibility":"Public","body":"!agent.nil?"}},{"html_id":"agent_id:Marten::DB::Field::ReferenceDBTypes|Nil-instance-method","name":"agent_id","abstract":false,"def":{"name":"agent_id","return_type":"Marten::DB::Field::ReferenceDBTypes | ::Nil","visibility":"Public","body":"@agent_id"}},{"html_id":"agent_id!-instance-method","name":"agent_id!","abstract":false,"def":{"name":"agent_id!","visibility":"Public","body":"@agent_id.not_nil!"}},{"html_id":"agent_id=(related_id:Marten::DB::Field::ReferenceDBTypes|Nil)-instance-method","name":"agent_id=","abstract":false,"args":[{"name":"related_id","external_name":"related_id","restriction":"Marten::DB::Field::ReferenceDBTypes | ::Nil"}],"args_string":"(related_id : Marten::DB::Field::ReferenceDBTypes | Nil)","args_html":"(related_id : Marten::DB::Field::ReferenceDBTypes | Nil)","def":{"name":"agent_id=","args":[{"name":"related_id","external_name":"related_id","restriction":"Marten::DB::Field::ReferenceDBTypes | ::Nil"}],"visibility":"Public","body":"@agent_id = related_id\n@agent = nil\n"}},{"html_id":"agent_id?-instance-method","name":"agent_id?","abstract":false,"def":{"name":"agent_id?","visibility":"Public","body":"(self.class.get_field(\"agent_id\")).getter_value?(agent_id)"}},{"html_id":"id:Int32|Int64|Nil|Nil-instance-method","name":"id","abstract":false,"def":{"name":"id","return_type":"Int32 | Int64 | Nil | ::Nil","visibility":"Public","body":"@id"}},{"html_id":"id!-instance-method","name":"id!","abstract":false,"def":{"name":"id!","visibility":"Public","body":"@id.not_nil!"}},{"html_id":"id=(id:Int32|Int64|Nil|Nil)-instance-method","name":"id=","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"Int32 | Int64 | Nil | ::Nil"}],"args_string":"(id : Int32 | Int64 | Nil | Nil)","args_html":"(id : Int32 | Int64 | Nil | Nil)","def":{"name":"id=","args":[{"name":"id","external_name":"id","restriction":"Int32 | Int64 | Nil | ::Nil"}],"visibility":"Public","body":"@id = id"}},{"html_id":"id?-instance-method","name":"id?","abstract":false,"def":{"name":"id?","visibility":"Public","body":"(self.class.get_field(\"id\")).getter_value?(id)"}}]},{"html_id":"monitbee/CollectorHandler","path":"CollectorHandler.html","kind":"class","full_name":"CollectorHandler","name":"CollectorHandler","abstract":false,"superclass":{"html_id":"monitbee/Marten/Handlers/Base","kind":"class","full_name":"Marten::Handlers::Base","name":"Base"},"ancestors":[{"html_id":"monitbee/Marten/Handlers/Base","kind":"class","full_name":"Marten::Handlers::Base","name":"Base"},{"html_id":"monitbee/Marten/Handlers/XFrameOptions","kind":"module","full_name":"Marten::Handlers::XFrameOptions","name":"XFrameOptions"},{"html_id":"monitbee/Marten/Handlers/ContentSecurityPolicy","kind":"module","full_name":"Marten::Handlers::ContentSecurityPolicy","name":"ContentSecurityPolicy"},{"html_id":"monitbee/Marten/Handlers/Session","kind":"module","full_name":"Marten::Handlers::Session","name":"Session"},{"html_id":"monitbee/Marten/Handlers/RequestForgeryProtection","kind":"module","full_name":"Marten::Handlers::RequestForgeryProtection","name":"RequestForgeryProtection"},{"html_id":"monitbee/Marten/Handlers/Flash","kind":"module","full_name":"Marten::Handlers::Flash","name":"Flash"},{"html_id":"monitbee/Marten/Handlers/Cookies","kind":"module","full_name":"Marten::Handlers::Cookies","name":"Cookies"},{"html_id":"monitbee/Marten/Handlers/Callbacks","kind":"module","full_name":"Marten::Handlers::Callbacks","name":"Callbacks"},{"html_id":"monitbee/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"monitbee/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/handlers/collector.cr","line_number":3,"url":null}],"repository_name":"monitbee","program":false,"enum":false,"alias":false,"const":false,"instance_methods":[{"html_id":"post-instance-method","name":"post","doc":"Handles a `POST` HTTP request and returns a `Marten::HTTP::Response` object.\n\nThe default implementation will return a 405 (not allowed) response.","summary":"<p>Handles a <code>POST</code> HTTP request and returns a <code>Marten::HTTP::Response</code> object.</p>","abstract":false,"location":{"filename":"src/handlers/collector.cr","line_number":5,"url":null},"def":{"name":"post","visibility":"Public","body":"body = request.body\nxml = XML.parse(body)\ndata = xml.first_element_child\nnode = xml.xpath_node(\"//monit/@id\")\nputs(xml.xpath_node(\"//monit/server/uptime\"))\nservices = xml.xpath_node(\"//monit/services\")\nservices.each do |svc|\n  puts(svc)\nend\nrespond(\"ok\")\n"}}]},{"html_id":"monitbee/HomeHandler","path":"HomeHandler.html","kind":"class","full_name":"HomeHandler","name":"HomeHandler","abstract":false,"superclass":{"html_id":"monitbee/Marten/Handlers/Base","kind":"class","full_name":"Marten::Handlers::Base","name":"Base"},"ancestors":[{"html_id":"monitbee/Marten/Handlers/Base","kind":"class","full_name":"Marten::Handlers::Base","name":"Base"},{"html_id":"monitbee/Marten/Handlers/XFrameOptions","kind":"module","full_name":"Marten::Handlers::XFrameOptions","name":"XFrameOptions"},{"html_id":"monitbee/Marten/Handlers/ContentSecurityPolicy","kind":"module","full_name":"Marten::Handlers::ContentSecurityPolicy","name":"ContentSecurityPolicy"},{"html_id":"monitbee/Marten/Handlers/Session","kind":"module","full_name":"Marten::Handlers::Session","name":"Session"},{"html_id":"monitbee/Marten/Handlers/RequestForgeryProtection","kind":"module","full_name":"Marten::Handlers::RequestForgeryProtection","name":"RequestForgeryProtection"},{"html_id":"monitbee/Marten/Handlers/Flash","kind":"module","full_name":"Marten::Handlers::Flash","name":"Flash"},{"html_id":"monitbee/Marten/Handlers/Cookies","kind":"module","full_name":"Marten::Handlers::Cookies","name":"Cookies"},{"html_id":"monitbee/Marten/Handlers/Callbacks","kind":"module","full_name":"Marten::Handlers::Callbacks","name":"Callbacks"},{"html_id":"monitbee/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"monitbee/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/handlers/home.cr","line_number":1,"url":null}],"repository_name":"monitbee","program":false,"enum":false,"alias":false,"const":false,"instance_methods":[{"html_id":"get-instance-method","name":"get","doc":"Handles a `GET` HTTP request and returns a `Marten::HTTP::Response` object.\n\nThe default implementation will return a 405 (not allowed) response.","summary":"<p>Handles a <code>GET</code> HTTP request and returns a <code>Marten::HTTP::Response</code> object.</p>","abstract":false,"location":{"filename":"src/handlers/home.cr","line_number":2,"url":null},"def":{"name":"get","visibility":"Public","body":"render(\"home.html\", context: {hosts: Agent.all})"}}]},{"html_id":"monitbee/Migration","path":"Migration.html","kind":"module","full_name":"Migration","name":"Migration","abstract":false,"locations":[{"filename":"src/migrations/202308312357341_create_main_host_table.cr","line_number":3,"url":null}],"repository_name":"monitbee","program":false,"enum":false,"alias":false,"const":false,"types":[{"html_id":"monitbee/Migration/Main","path":"Migration/Main.html","kind":"module","full_name":"Migration::Main","name":"Main","abstract":false,"locations":[{"filename":"src/migrations/202308312357341_create_main_host_table.cr","line_number":3,"url":null}],"repository_name":"monitbee","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"monitbee/Migration","kind":"module","full_name":"Migration","name":"Migration"},"types":[{"html_id":"monitbee/Migration/Main/V202308312357341","path":"Migration/Main/V202308312357341.html","kind":"class","full_name":"Migration::Main::V202308312357341","name":"V202308312357341","abstract":false,"superclass":{"html_id":"monitbee/Marten/DB/Migration","kind":"class","full_name":"Marten::DB::Migration","name":"Migration"},"ancestors":[{"html_id":"monitbee/Marten/DB/Migration","kind":"class","full_name":"Marten::DB::Migration","name":"Migration"},{"html_id":"monitbee/Marten/DB/Migration/DSL","kind":"module","full_name":"Marten::DB::Migration::DSL","name":"DSL"},{"html_id":"monitbee/Marten/Apps/Association","kind":"module","full_name":"Marten::Apps::Association","name":"Association"},{"html_id":"monitbee/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"monitbee/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/migrations/202308312357341_create_main_host_table.cr","line_number":3,"url":null}],"repository_name":"monitbee","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"monitbee/Migration/Main","kind":"module","full_name":"Migration::Main","name":"Main"},"class_methods":[{"html_id":"migration_name-class-method","name":"migration_name","abstract":false,"location":{"filename":"src/migrations/202308312357341_create_main_host_table.cr","line_number":3,"url":null},"def":{"name":"migration_name","visibility":"Public","body":"File.basename(\"/home/mreider/dev/crystal/monitbee/src/migrations/202308312357341_create_main_host_table.cr\", \".cr\")"}}],"instance_methods":[{"html_id":"plan-instance-method","name":"plan","abstract":false,"location":{"filename":"src/migrations/202308312357341_create_main_host_table.cr","line_number":4,"url":null},"def":{"name":"plan","visibility":"Public","body":"create_table(:main_host) do\n  column(:id, :big_int, primary_key: true, auto: true)\n  column(:name, :string, max_size: 40)\nend"}}]},{"html_id":"monitbee/Migration/Main/V202309010118281","path":"Migration/Main/V202309010118281.html","kind":"class","full_name":"Migration::Main::V202309010118281","name":"V202309010118281","abstract":false,"superclass":{"html_id":"monitbee/Marten/DB/Migration","kind":"class","full_name":"Marten::DB::Migration","name":"Migration"},"ancestors":[{"html_id":"monitbee/Marten/DB/Migration","kind":"class","full_name":"Marten::DB::Migration","name":"Migration"},{"html_id":"monitbee/Marten/DB/Migration/DSL","kind":"module","full_name":"Marten::DB::Migration::DSL","name":"DSL"},{"html_id":"monitbee/Marten/Apps/Association","kind":"module","full_name":"Marten::Apps::Association","name":"Association"},{"html_id":"monitbee/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"monitbee/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/migrations/202309010118281_auto.cr","line_number":3,"url":null}],"repository_name":"monitbee","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"monitbee/Migration/Main","kind":"module","full_name":"Migration::Main","name":"Main"},"class_methods":[{"html_id":"migration_name-class-method","name":"migration_name","abstract":false,"location":{"filename":"src/migrations/202309010118281_auto.cr","line_number":3,"url":null},"def":{"name":"migration_name","visibility":"Public","body":"File.basename(\"/home/mreider/dev/crystal/monitbee/src/migrations/202309010118281_auto.cr\", \".cr\")"}}],"instance_methods":[{"html_id":"plan-instance-method","name":"plan","abstract":false,"location":{"filename":"src/migrations/202309010118281_auto.cr","line_number":6,"url":null},"def":{"name":"plan","visibility":"Public","body":"create_table(:main_alert) do\n  column(:id, :big_int, primary_key: true, auto: true)\n  column(:host_id, :reference, to_table: :main_host, to_column: :id)\nend"}}]},{"html_id":"monitbee/Migration/Main/V202309120903501","path":"Migration/Main/V202309120903501.html","kind":"class","full_name":"Migration::Main::V202309120903501","name":"V202309120903501","abstract":false,"superclass":{"html_id":"monitbee/Marten/DB/Migration","kind":"class","full_name":"Marten::DB::Migration","name":"Migration"},"ancestors":[{"html_id":"monitbee/Marten/DB/Migration","kind":"class","full_name":"Marten::DB::Migration","name":"Migration"},{"html_id":"monitbee/Marten/DB/Migration/DSL","kind":"module","full_name":"Marten::DB::Migration::DSL","name":"DSL"},{"html_id":"monitbee/Marten/Apps/Association","kind":"module","full_name":"Marten::Apps::Association","name":"Association"},{"html_id":"monitbee/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"monitbee/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/migrations/202309120903501_auto.cr","line_number":3,"url":null}],"repository_name":"monitbee","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"monitbee/Migration/Main","kind":"module","full_name":"Migration::Main","name":"Main"},"class_methods":[{"html_id":"migration_name-class-method","name":"migration_name","abstract":false,"location":{"filename":"src/migrations/202309120903501_auto.cr","line_number":3,"url":null},"def":{"name":"migration_name","visibility":"Public","body":"File.basename(\"/home/mreider/dev/crystal/monitbee/src/migrations/202309120903501_auto.cr\", \".cr\")"}}],"instance_methods":[{"html_id":"plan-instance-method","name":"plan","abstract":false,"location":{"filename":"src/migrations/202309120903501_auto.cr","line_number":6,"url":null},"def":{"name":"plan","visibility":"Public","body":"create_table(:main_service) do\n  column(:id, :big_int, primary_key: true, auto: true)\n  column(:name, :string, max_size: 40)\nend\ncreate_table(:main_agent) do\n  column(:id, :uuid, primary_key: true, unique: true)\n  column(:name, :string, max_size: 40)\n  column(:version, :string, max_size: 25)\nend\nremove_column(:main_alert, :host_id)\ndelete_table(:main_host)\nadd_column(:main_service, :agent_id, :reference, to_table: :main_agent, to_column: :id)\nadd_column(:main_alert, :agent_id, :reference, to_table: :main_agent, to_column: :id)\n"}}]}]}]},{"html_id":"monitbee/Service","path":"Service.html","kind":"class","full_name":"Service","name":"Service","abstract":false,"superclass":{"html_id":"monitbee/Marten/DB/Model","kind":"class","full_name":"Marten::DB::Model","name":"Model"},"ancestors":[{"html_id":"monitbee/Marten/DB/Model","kind":"class","full_name":"Marten::DB::Model","name":"Model"},{"html_id":"monitbee/Marten/Template/Object/Auto","kind":"module","full_name":"Marten::Template::Object::Auto","name":"Auto"},{"html_id":"monitbee/Marten/Template/Object","kind":"module","full_name":"Marten::Template::Object","name":"Object"},{"html_id":"monitbee/Marten/DB/Model/Callbacks","kind":"module","full_name":"Marten::DB::Model::Callbacks","name":"Callbacks"},{"html_id":"monitbee/Marten/Core/Validation/Callbacks","kind":"module","full_name":"Marten::Core::Validation::Callbacks","name":"Callbacks"},{"html_id":"monitbee/Marten/Core/Validation","kind":"module","full_name":"Marten::Core::Validation","name":"Validation"},{"html_id":"monitbee/Marten/DB/Model/Validation","kind":"module","full_name":"Marten::DB::Model::Validation","name":"Validation"},{"html_id":"monitbee/Marten/DB/Model/Querying","kind":"module","full_name":"Marten::DB::Model::Querying","name":"Querying"},{"html_id":"monitbee/Marten/DB/Model/Persistence","kind":"module","full_name":"Marten::DB::Model::Persistence","name":"Persistence"},{"html_id":"monitbee/Marten/DB/Model/Comparison","kind":"module","full_name":"Marten::DB::Model::Comparison","name":"Comparison"},{"html_id":"monitbee/Marten/DB/Model/Table","kind":"module","full_name":"Marten::DB::Model::Table","name":"Table"},{"html_id":"monitbee/Marten/DB/Model/Connection","kind":"module","full_name":"Marten::DB::Model::Connection","name":"Connection"},{"html_id":"monitbee/Marten/Apps/Association","kind":"module","full_name":"Marten::Apps::Association","name":"Association"},{"html_id":"monitbee/Marten/DB/Model/AppConfig","kind":"module","full_name":"Marten::DB::Model::AppConfig","name":"AppConfig"},{"html_id":"monitbee/Marten/DB/Model/Inheritance","kind":"module","full_name":"Marten::DB::Model::Inheritance","name":"Inheritance"},{"html_id":"monitbee/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"monitbee/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/models/monit.cr","line_number":7,"url":null}],"repository_name":"monitbee","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"FIELDS_","name":"FIELDS_","value":"{\"id\" => {type: \"big_int\", kwargs: {primary_key: true, auto: true}}, \"agent\" => {type: \"many_to_one\", kwargs: {to: Agent}}, \"name\" => {type: \"string\", kwargs: {max_size: 40}}} of Nil => Nil"}],"instance_methods":[{"html_id":"agent:Agent|Nil-instance-method","name":"agent","abstract":false,"def":{"name":"agent","return_type":"Agent | ::Nil","visibility":"Public","body":"@agent || (@agent = (Agent.get(pk: @agent_id)))"}},{"html_id":"agent!:Agent-instance-method","name":"agent!","abstract":false,"def":{"name":"agent!","return_type":"Agent","visibility":"Public","body":"agent.not_nil!"}},{"html_id":"agent=(related_object:Agent|Nil)-instance-method","name":"agent=","abstract":false,"args":[{"name":"related_object","external_name":"related_object","restriction":"Agent | ::Nil"}],"args_string":"(related_object : Agent | Nil)","args_html":"(related_object : <a href=\"Agent.html\">Agent</a> | Nil)","def":{"name":"agent=","args":[{"name":"related_object","external_name":"related_object","restriction":"Agent | ::Nil"}],"visibility":"Public","body":"@agent_id = if related_object.nil?\n  nil\nelse\n  related_object.class.pk_field.to_db(related_object.pk)\nend\n@agent = related_object\n"}},{"html_id":"agent?-instance-method","name":"agent?","abstract":false,"def":{"name":"agent?","visibility":"Public","body":"!agent.nil?"}},{"html_id":"agent_id:Marten::DB::Field::ReferenceDBTypes|Nil-instance-method","name":"agent_id","abstract":false,"def":{"name":"agent_id","return_type":"Marten::DB::Field::ReferenceDBTypes | ::Nil","visibility":"Public","body":"@agent_id"}},{"html_id":"agent_id!-instance-method","name":"agent_id!","abstract":false,"def":{"name":"agent_id!","visibility":"Public","body":"@agent_id.not_nil!"}},{"html_id":"agent_id=(related_id:Marten::DB::Field::ReferenceDBTypes|Nil)-instance-method","name":"agent_id=","abstract":false,"args":[{"name":"related_id","external_name":"related_id","restriction":"Marten::DB::Field::ReferenceDBTypes | ::Nil"}],"args_string":"(related_id : Marten::DB::Field::ReferenceDBTypes | Nil)","args_html":"(related_id : Marten::DB::Field::ReferenceDBTypes | Nil)","def":{"name":"agent_id=","args":[{"name":"related_id","external_name":"related_id","restriction":"Marten::DB::Field::ReferenceDBTypes | ::Nil"}],"visibility":"Public","body":"@agent_id = related_id\n@agent = nil\n"}},{"html_id":"agent_id?-instance-method","name":"agent_id?","abstract":false,"def":{"name":"agent_id?","visibility":"Public","body":"(self.class.get_field(\"agent_id\")).getter_value?(agent_id)"}},{"html_id":"id:Int32|Int64|Nil|Nil-instance-method","name":"id","abstract":false,"def":{"name":"id","return_type":"Int32 | Int64 | Nil | ::Nil","visibility":"Public","body":"@id"}},{"html_id":"id!-instance-method","name":"id!","abstract":false,"def":{"name":"id!","visibility":"Public","body":"@id.not_nil!"}},{"html_id":"id=(id:Int32|Int64|Nil|Nil)-instance-method","name":"id=","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"Int32 | Int64 | Nil | ::Nil"}],"args_string":"(id : Int32 | Int64 | Nil | Nil)","args_html":"(id : Int32 | Int64 | Nil | Nil)","def":{"name":"id=","args":[{"name":"id","external_name":"id","restriction":"Int32 | Int64 | Nil | ::Nil"}],"visibility":"Public","body":"@id = id"}},{"html_id":"id?-instance-method","name":"id?","abstract":false,"def":{"name":"id?","visibility":"Public","body":"(self.class.get_field(\"id\")).getter_value?(id)"}},{"html_id":"name:String|Nil|Nil-instance-method","name":"name","abstract":false,"def":{"name":"name","return_type":"::String | ::Nil | ::Nil","visibility":"Public","body":"@name"}},{"html_id":"name!-instance-method","name":"name!","abstract":false,"def":{"name":"name!","visibility":"Public","body":"@name.not_nil!"}},{"html_id":"name=(name:String|Nil|Nil)-instance-method","name":"name=","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"::String | ::Nil | ::Nil"}],"args_string":"(name : String | Nil | Nil)","args_html":"(name : String | Nil | Nil)","def":{"name":"name=","args":[{"name":"name","external_name":"name","restriction":"::String | ::Nil | ::Nil"}],"visibility":"Public","body":"@name = name"}},{"html_id":"name?-instance-method","name":"name?","abstract":false,"def":{"name":"name?","visibility":"Public","body":"(self.class.get_field(\"name\")).getter_value?(name)"}}]}]}})